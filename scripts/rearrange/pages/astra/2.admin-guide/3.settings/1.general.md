---
title: "Общие настройки"
date: 2023-03-23
---

General Settings в Astra включают в себя набор основных параметров конфигурации, которые позволяют настроить и оптимизировать работу программного обеспечения. Эти настройки обеспечивают бесперебойную работу потокового вещания, управляя такими аспектами, как интеграция InfluxDB, настройки HTTP-сервера и параметры стрима по умолчанию.

## Интеграция с InfluxDB[](https://help.cesbo.com/astra/admin-guide/settings/general#influxdb-integration)

Опции интеграции с InfluxDB в Astra позволяют настроить соединение между Astra и InfluxDB для хранения статистики, связанной с потоками и адаптерами.

- `Instance Name` - имя хранилища данных. По умолчанию в Astra используется InfluxDB
- `InfluxDB Address` - адрес подключенного хранилища. По умолчанию адрес InfluxDB: `http://db-server:8086`
- `InfluxDB Organization` - название вашей организации в настройках InfluxDB
- `InfluxDB Token` - если необходимо подключить внешний интерфейс, то необходимо ввести API-токен из буфера обмена

Подробное руководство приведено в разделе [Интеграция Astra с InfluxDB](https://help.cesbo.com/astra/monitoring/export/influxdb)

## Мониторинг[](https://help.cesbo.com/astra/admin-guide/settings/general#monitoring)

Функция Monitoring в Astra - это legacy опция, позволяющая отправлять данные о событиях, такие как статистика потоков и адаптеров, через HTTP POST-запросы во внешние сервисы.

Подробнее в: [Мониторинг экспорта События](https://help.cesbo.com/astra/monitoring/export/export-monitoring-events)

## Параметры HTTP-сервера[](https://help.cesbo.com/astra/admin-guide/settings/general#http-server-options)

Опции HTTP-сервера в Astra позволяют настроить HTTP-сервер для предоставления доступа к медиаконтенту по протоколам HTTP MPEG-TS или HLS.

- `HTTP Access Log` - полный путь к файлу для записи журнала запросов
- `HTTP Sessions` - включает функцию HTTP Sessions для аутентификации и отслеживания активности пользователей. При включении в главном меню появляется пункт "Сессии" для просмотра всех активных сессий. Опция активна по умолчанию
- `Sessions Backend Address` - webhook для экспорта информации о сессиях при их завершении
- `Minimal Session Time` - отправлять по webhook информацию о сеансах, длящихся дольше минимального времени.

Чтобы включить HTTPS, настройте следующие параметры:

- `TLS certificate chain` - полный путь к цепочке сертификатов. Например: `/etc/dehydrated/certs/example.com/fullchain.pem`
- `TLS certificate key` - полный путь к ключу сертификата. Например. `/etc/dehydrated/certs/example.com/privkey.pem`
- `Disable TLS on primary port` - Отметьте эту опцию, если вы хотите, чтобы основной порт, определяемый аргументом командной строки `-p PORT`, для работы без HTTPS

Вы можете получить бесплатный сертификат от Let's Encrypt. Подробное руководство приведено в разделе [Сертификат HTTPS с помощью Dehydrated](https://help.cesbo.com/misc/tools-and-utilities/network/dehydrated)

## Параметры потока по умолчанию[](https://help.cesbo.com/astra/admin-guide/settings/general#default-stream-options)

Эти настройки являются глобальными для всех потоков (если они не переопределены в настройках потока)

- `Start stream on demand` - активизировать потоки в присутствии HTTP-клиентов. Включено по умолчанию
- `HTTP Keep Active` - определяет время в секундах, в течение которого поток будет активен, несмотря на отсутствие клиентов. По умолчанию равно 0 - отключает канал сразу после закрытия сессии последнего клиента
- `Backup Start Delay` - устанавливает задержку в секундах перед переключением на резервный источник
- `Backup Return Delay` - устанавливает задержку в секундах перед возвратом к предыдущему источнику
- `Default codepage` - определение кодовой страницы для потоковой информации в SDT
- `Service provider` - название вашей компании. Используется в описании потока SDT
- `Network name` - название сети провайдера. Используется в описании потока SDT
- `TCP Congestion Control` - определяет алгоритм работы TCP CC
- `CC Limit` - устанавливает ограничение на количество ошибок CC в источнике. После превышения этого лимита источник будет считаться нерабочим
- `Use multithreading for UDP receiving and transmitting` - запуск отдельных потоков для обработки UDP-сокетов, включенный по умолчанию
- `Bind DVB adapters by MAC` - использование MAC-адресов DVB для привязки сконфигурированных адаптеров к системному устройству

::alert
После сохранения глобальных настроек Astra перезапускается
::
