---
title: "CPU Power Mode"
date: 2023-09-28
sidebar:
    order: 17
---

В мире потокового вещания цифрового телевидения каждая миллисекунда имеет значение. Задержки или лаги могут существенно повлиять на качество сервиса.

Одним из ключевых факторов является режим работы процессора. По умолчанию, процессоры на Linux-серверах настроены на энергосберегающий режим для снижения энергопотребления и управления тепловыделением. Чтобы обеспечить оптимальную работу вашего потокового программного обеспечения, рекомендуется установить максимальный режим производительности процессора.

:::note
Вы можете использовать наш скрипт Tune для автоматической настройки этих параметров. [Узнайте больше](/en/articles/system/tune/)
:::

## С использованием утилиты cpupower

Для проверки режима работы процессора на Linux-сервере можно использовать утилиту `cpupower`. Эта утилита является частью пакета `linux-tools-common`.

### Установка cpupower

```
sudo apt-get update
sudo apt-get install linux-tools-common
```

### Проверка текущих настроек

```
cpupower frequency-info
```

Эта команда отобразит текущую частоту процессора, режим governor и другую информацию. Если режим governor установлен как 'powersave' или 'ondemand', то процессор находится в энергосберегающем режиме.

### Отключение энергосберегающего режима

Если вы хотите отключить энергосберегающий режим, вы можете установить режим governor на `performance`. Это заставит процессор работать на максимальной частоте.

```
cpupower frequency-set -g performance
```

Эта настройка будет потеряна после перезагрузки. Если вы хотите сделать ее постоянной, вы можете добавить указанную выше команду в файл `/etc/rc.local`, чтобы она выполнялась при каждой загрузке.

## Проверка режима процессора вручную

```
cat /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
```

Эта команда отобразит текущий режим governor для каждого ядра. Информация о текущей частоте процессора доступна в файле `/proc/cpuinfo`:

```
processor	: 0
model name	: Intel(R) Xeon(R) CPU E5-2650 v2 @ 2.60GHz
cpu MHz		: 1197.109
```

как мы видим, текущая частота процессора составляет всего 1.2ГГц.