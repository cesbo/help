---
title: Multiservers  
description: General Information
sidebar:
    order: 7
---

импорт { Steps } from '@astrojs/starlight/components';

```
                  +-----------------------+             
                  |     Главный сервер    |
                  |  +-----------------+  |
                  |  | поток M1        |  |
                  |  +-----------------+  |
                  |  | поток M2        |  |
                  |  +-----------------+  |
                  |  |       ...       |  |
                  |  +-----------------+  |
                  |  | поток MN        |  |
                  |  +-----------------+  |
                  |                       |
                  +-----------------------+
                     /                \
    +-----------------------+      +-----------------------+
    |     Вспомогательный   |      |     Вспомогательный   |
    |     сервер #K         |      |     сервер #L         |
    |  +-----------------+  |      |  +-----------------+  |
    |  | поток K1        |  |      |  | поток L1        |  |
    |  +-----------------+  |      |  +-----------------+  |
    |  | поток K2        |  |      |  | поток L2        |  |
    |  +-----------------+  |      |  +-----------------+  |
    |  |       ...       |  |      |  |       ...       |  |
    |  +-----------------+  |      |  +-----------------+  |
    |  | поток KN        |  |      |  | поток LN        |  |
    |  +-----------------+  |      |  +-----------------+  |
    |                       |      |                       |
    +-----------------------+      +-----------------------+              
```

Начиная с версии от 16 декабря 2024 года, Senta-Streamer поддерживает многосерверную архитектуру. Эта функция позволяет главному серверу управлять зависимыми серверами (назначать, запускать и останавливать потоки). Это обеспечивает:

- Масштабирование Senta-Streamer для обработки большего количества потоков
- Построение географически распределенных систем транскодирования
- Упрощение мониторинга и управления несколькими серверами Senta-Streamer

### Добавление дополнительного сервера к главному серверу Senta-Streamer

**На удаленном сервере:**

<Steps>

1. Установите бинарный файл Senta-Streamer.

1. Проверьте работоспособность утилиты `ffmpeg`.

1. Добавьте Senta-Streamer в автозагрузку, так же как на главном сервере.

1. Убедитесь, что Senta-Streamer запущен и готов к работе (это можно проверить через веб-интерфейс).

1. Введите лицензионный [ключ](/en/senta/getting-started/add-license) в настройках.

1. Сгенерируйте [API ключ](/en/senta/getting-started/api) (скопируйте его из *Настройки → API ключ*).

</Steps>

*Примечание: Вам не нужно настраивать потоки и профили, так как это будет выполняться автоматически главным сервером.*

**На главном сервере:**

<Steps>

1. Перейдите в раздел **Серверы**.

1. Нажмите **Добавить сервер**.

1. В появившемся окне заполните следующие поля:
   - **Название сервера** - Любое удобное название для отображения в веб-интерфейсе и логах. Оно не влияет на управление.
   - **IP** - IP-адрес (или доменное имя) удаленного сервера. API сервера должен быть доступен по этому адресу.
   - **Порт** - Совпадает с портом веб-интерфейса удаленного сервера.
   - **API ключ** - API ключ удаленного сервера.

1. После сохранения сервер должен появиться в таблице серверов, показывая свой статус. Если главный сервер успешно подключится к нему через API, статус будет отображаться как *онлайн*.

</Steps>

### Управление потоками

Чтобы назначить поток на удаленный сервер, перейдите в настройки потока на главном сервере и выберите нужный сервер в опции **Сервер**. После сохранения настроек поток автоматически запустится на удаленном сервере.

Аналогично, вы можете переключать серверы для потока в процессе работы (например, при выводе сервера на обслуживание).