---
title: "MPEG-TS"
date: 2023-06-13
sidebar:
    order: 8
---

MPEG-TS (Transport Stream) - транспортный формат для передачи видео, аудио и других данных по IP или широкополосным сетям. Подробное описание содержится в стандарте [ISO 13818-1](https://www.iso.org/standard/74427.html){target="_blank"}

## Пакетированный элементарный поток[](/ru/misc/articles/mpegts#packetized-elementary-stream)

Элементарный поток (Elementary Stream, ES) - это сжатые данные, выводимые кодером.

Пакетированный элементарный поток (PES) - это последовательность заголовков с информацией ЭП и кадров ЭП. Мультиплексирование - это операция пакетирования нескольких элементарных потоков в один поток. Демультиплексирование является обратным процессом мультиплексирования. Демультиплексирование одного потока на отдельные компоненты и передача компонентов на обработку.

## Информация по конкретной программе[](/ru/misc/articles/mpegts#program-specific-information)

Программно-специфическая информация (PSI) - это пакеты с информацией о потоке, предназначенные для демультиплексирования и декодирования потоков программ приемником.

- Program Association Table (PAT) - список программ. Содержит номер программы (PNR) и идентификатор пакета (PID) связанного с ним PMT
- Program Mapping Table (PMT) - список программных потоков. PID-адреса соответствующих видео-, аудио- и других данных
- Таблица условного доступа (CAT) - информация о системах условного доступа

## Служебная информация[](/ru/misc/articles/mpegts#service-information)

В дополнение к PSI необходимы данные, обеспечивающие идентификацию сервисов и событий для пользователя:

- Таблица сетевой информации (NIT)
- Таблица описания услуг (SDT) - информация, такая как название услуги, имя провайдера и т.д.
- Event Information Table (EIT) - содержит информацию о событии, такую как название события, время начала и т.д.
- Таблица времени и даты (TDT)
- Таблица временных смещений (TOT)

## Транспортный поток[](/ru/misc/articles/mpegts#transport-stream)

Транспортный поток представляет собой последовательность пакетов TS. Пакеты TS имеют фиксированную длину в 188 байт. Первый байт, называемый также байтом синхронизации, всегда равен 0x47. Следующие 3 байта - это заголовок. Оставшиеся 184 байта - полезная нагрузка (пакеты PES, PSI или SI).

Заголовок TS содержит следующую информацию:

- Идентификатор пакета (PID). Он может находиться в диапазоне 0 - 8191
- Счетчик непрерывности (CC). Он может находиться в диапазоне 0 - 15. С помощью счетчика анализатор MPEG-TS может обнаружить нарушение непрерывности пакетов.
- Индикатор начала блока полезной нагрузки - один бит указывает на то, что пакет содержит начало полезной нагрузки

## PID - идентификатор пакета TS[](/ru/misc/articles/mpegts#pid-ts-packet-identifier)

В TS-пакеты упаковываются элементарные потоки (видео, аудио) и информационные таблицы. Каждый пакет имеет уникальный идентификатор - PID. Значение PID должно находиться в диапазоне от 0 до 8191. Диапазон от 0 до 31 и 8191 зарезервирован и не должен использоваться. Вы можете использовать любой PID в диапазоне от 32 до 8190.
