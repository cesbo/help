---
title: "Прием UDP/RTP"
date: 2023-03-04
---

UDP (User Datagram Protocol) - наиболее популярный протокол для доставки цифрового телевидения в локальных сетях, в том числе в гостиничных организациях и городских сетях интернет-провайдеров. Будучи протоколом без соединений, UDP не предоставляет никаких механизмов проверки и исправления ошибок. Это делает его более быстрым и легким протоколом по сравнению с TCP.

## Формат медиа-адреса[](https://help.cesbo.com/astra/receiving/ip/udp#media-address-format)

UDP-адрес используется для определения местоположения медиапотока, передаваемого по сети

```
udp://address
udp://address:port
udp://interface@address:port#options
```

- `interface` - имя сетевого интерфейса, например `eth0`, для приема UDP-потока. Если не задано, то UDP-поток будет приниматься в соответствии с системными маршрутами
- `address` - IPv4-адрес UDP-потока, это может быть многоадресная группа или IP-адрес локального интерфейса для приема одноадресных потоков
- `port` - сетевой порт для приема UDP-потока. Если он не указан, то по умолчанию используется значение `1234`

Дополнительные опции:

- `src=IP` - Адрес источника многоадресной рассылки UDP для IGMPv3. Необходимо включить IGMPv3 в настройках linux: [Настройка версии IGMP](https://help.cesbo.com/misc/tools-and-utilities/network/configure-igmp-version). Доступно начиная с версии 230303 и более поздних версий
- `sync` - прием UDP в отдельном потоке с синхронизацией битрейта
- `no_sync` - отключает синхронизацию битрейта, если она включена глобально
- `renew=seconds` - интервал для обновления подписки на многоадресную рассылку. Обычно операция обновления подписки IGMP выполняется автоматически
- `socket_size=bytes` - размер системного сокета, причем значение по умолчанию берется из: `sysctl net.core.rmem_default`

Примеры UDP-адресов:

- `udp://127.0.0.1:10001` - получает поток на localhost, используя порт 10001. Это может быть полезно при передаче потоков между различными сервисами, например, при получении транскодированного потока из FFmpeg
- `udp://eth0@239.255.1.1#pnr=100` - получает многоадресную группу 239.255.1.1 на интерфейсе eth0. Опция `pnr` включение демультиплексирования потока и выбор программы с номером 100

## Веб-интерфейс[](https://help.cesbo.com/astra/receiving/ip/udp#web-interface)

Чтобы сконфигурировать новый UDP-вход с помощью Web-интерфейса, выберите в главном меню пункт "Новый поток". Затем в списке входов нажмите на значок шестеренки и установите для параметра "Тип входа" значение UDP. Также можно изменить существующий поток, открыв его настройки, добавив новый вход и нажав на соответствующий значок шестеренки.

![Опции UDP](https://cdn.cesbo.com/help/astra/receiving/ip/udp/options.png)

Большинство опций, представленных в веб-интерфейсе, напрямую соответствуют компонентам UDP-адреса, как описано в разделе "Формат медиа-адреса". Однако есть и некоторые дополнительные опции, которые могут оказаться полезными:

- `PNR` - номер программы для MPTS-потоков. При его определении включается демультиплексирование потока и выбирается программа с указанным номером
- `DD-CI CAM` - эта опция в настоящее время устарела и заменена виртуальными адаптерами. Более подробную информацию можно найти в ...
- `Softcam` - выбирает дескремблер для CAM-клиента. Подробнее об этом можно узнать в ...
- `BISS Key` - ключ для дескремблера BISS CAS. Более подробную информацию можно найти в [Расшифровка потоков с помощью BISS CAS](https://help.cesbo.com/astra/processing/cas/decrypt-biss)

Имеются также расширенные опции для дальнейшей настройки:

![Дополнительные опции](https://cdn.cesbo.com/help/astra/receiving/ip/udp/advanced.png)

Пожалуйста, используйте дополнительные опции только в том случае, если вы понимаете их значение

## Поиск и устранение неисправностей[](https://help.cesbo.com/astra/receiving/ip/udp#troubleshooting)

Дополнительную информацию можно найти в разделе [Устранение неполадок при приеме UDP](https://help.cesbo.com/misc/troubleshooting/receiving/udp)
