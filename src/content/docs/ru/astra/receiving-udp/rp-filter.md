---
title: RP Filter for UDP Receiving
sidebar:
    order: 89
---

Технология rp_filter является полезным инструментом для повышения безопасности и защиты серверов, которые получают мультикаст-трафик UDP, особенно для серверов с несколькими сетевыми интерфейсами. При настройке серверов для получения мультикаст-трафика UDP доступны два варианта: настройка системной маршрутизации для мультикаст-групп или изменение параметра rp_filter.

## Настройка строгого режима для RP фильтра

Чтобы изменить параметр rp_filter, добавьте следующие строки в файл `/etc/sysctl.conf`:

```
net.ipv4.conf.eth0.rp_filter = 2
```

Обратите внимание, что `eth0` следует заменить на имя используемого интерфейса. Чтобы применить изменения, необходимо либо перезагрузить систему, либо выполнить следующую команду:

```
sysctl -p
```

## Значения RP фильтра

В Linux для параметра rp_filter доступны три возможных значения:

- `0` - полностью отключает функцию rp_filter
- `1` - значение по умолчанию, включает строгую обратную фильтрацию путей. В этом режиме ядро проверяет, приходят ли входящие пакеты на ожидаемый интерфейс в соответствии с таблицей маршрутизации, и отклоняет пакеты, которые не соответствуют этому
- `2` - данное значение включает слабую обратную фильтрацию путей. Этот режим менее строг в сравнении со строгой обратной фильтрацией путей и позволяет пакетам приходить на другие интерфейсы, если их можно направить обратно к исходному адресу на интерфейсе, с которого они были получены

Выбор настройки rp_filter зависит от конкретной конфигурации сети и требований безопасности системы. Важно выбрать соответствующую настройку для обеспечения оптимальной безопасности и производительности сети.