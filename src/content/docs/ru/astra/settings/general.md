---
title: General Settings
sidebar:
    order: 2
---

Общие настройки в Astra включают в себя набор ключевых параметров конфигурации, которые позволяют вам настраивать и оптимизировать вашу программную установку. Эти настройки обеспечивают плавный стриминг, управляя такими аспектами, как интеграция с InfluxDB, настройки HTTP-сервера и параметры потоков по умолчанию.

## Параметры мониторинга

![Параметры мониторинга](https://cdn.cesbo.com/help/astra/admin-guide/settings/general/monitoring.png)

### Интеграция InfluxDB

Опции интеграции InfluxDB в Astra позволяют настроить подключение между Astra и InfluxDB для хранения статистики, связанной с потоками и адаптерами.

- `Instance Name` - имя хранилища данных. По умолчанию Astra использует InfluxDB.
- `InfluxDB Address` - адрес подключенного хранилища. По умолчанию адрес InfluxDB: `http://db-server:8086`.
- `InfluxDB Organization` - имя вашей организации в настройках InfluxDB.
- `InfluxDB Token` - если вам необходимо подключить внешний интерфейс, то нужно ввести API токен из буфера обмена.

Для получения более подробных инструкций, пожалуйста, обратитесь к [Интеграция Astra с InfluxDB](/en/astra/monitoring/influxdb/).

### Вебхук анализатора

Функция мониторинга в Astra является устаревшей опцией, которая позволяет отправлять данные событий, такие как статистика потоков и адаптеров, через HTTP POST-запросы на внешние сервисы.

Узнайте больше в разделе: [Экспорт событий мониторинга](/en/astra/monitoring/export-monitoring-events/).

### Вебхук сессий

Экспорт событий при закрытии сессий.

- `URL` - URL вебхука для отправки событий.
- `Minimal Session Time` - минимальная продолжительность сессии в секундах для отправки событий. Если сессия длится меньше этого времени, событие не будет отправлено.

## Параметры HTTP-сервера

![Параметры HTTP-сервера](https://cdn.cesbo.com/help/astra/admin-guide/settings/general/http-server.png)

Параметры HTTP-сервера в Astra позволяют настроить HTTP-сервер для предоставления доступа к медиа-контенту с использованием протоколов HTTP MPEG-TS или HLS.

- `HTTP Access Log` - полный путь к файлу для записи журнала запросов.
- `HTTP Sessions` - включает HTTP сессии для аутентификации и отслеживания активности пользователей. При включении в главном меню появляется пункт "Sessions" для просмотра всех активных сессий. Опция включена по умолчанию.
- `Sessions Backend Address` - вебхук для экспорта информации о сессиях при их завершении.
- `Minimal Session Time` - отправка информации вебхука о сессиях, продолжающихся дольше минимального времени.

Чтобы включить HTTPS, настройте следующие параметры:

- `TLS certificate chain` - полный путь к цепочке сертификатов. Например: `/etc/dehydrated/certs/example.com/fullchain.pem`.
- `TLS certificate key` - полный путь к ключу сертификата. Например: `/etc/dehydrated/certs/example.com/privkey.pem`.
- `Disable TLS on primary port` - отметьте эту опцию, если вы хотите, чтобы основной порт, определенный аргументом командной строки `-p PORT`, работал без HTTPS.

Вы можете получить бесплатный сертификат от Let's Encrypt. Для получения более подробных инструкций, пожалуйста, обратитесь к [HTTPS сертификат с помощью Dehydrated](/en/articles/tools-and-utilities/dehydrated/).

## Параметры потоков по умолчанию

![Параметры потоков по умолчанию](https://cdn.cesbo.com/help/astra/admin-guide/settings/general/stream.png)

Эти настройки являются глобальными для всех потоков (если не переопределены в настройках потока).

- `Start stream on demand` - активировать потоки при наличии HTTP-клиентов. Включено по умолчанию.
- `HTTP Keep Active` - задает время в секундах, в течение которого поток будет активен, несмотря на отсутствие клиентов. По умолчанию значение 0 - канал отключается сразу же, как только последний клиент закрыл сессию.
- `Backup Start Delay` - задает задержку в секундах перед переключением на резервный источник.
- `Backup Return Delay` - задает задержку в секундах перед возвращением к предыдущему источнику.
- `Default codepage` - определить кодовую страницу для информации о потоке в SDT.
- `Service provider` - название вашей компании. Используется в описании потока SDT.
- `Network name` - название сети провайдера. Используется в описании потока SDT.
- `TCP Congestion Control` - определяет алгоритм работы для TCP CC.
- `CC Limit` - устанавливает ограничение на количество ошибок CC в источнике. После превышения этого лимита - источник будет считаться нерабочим.
- `Use multithreading for UDP receiving and transmitting` - запускать отдельные потоки для обработки UDP-сокетов, включено по умолчанию.
- `Bind DVB adapters by MAC` - использовать MAC-адреса DVB для привязки настроенных адаптеров к системному устройству.

## Параметры адаптеров по умолчанию

![Параметры адаптеров по умолчанию](https://cdn.cesbo.com/help/astra/admin-guide/settings/general/adapter.png)

Эти настройки являются глобальными для всех адаптеров (если не переопределены в настройках адаптера).

- `Bind DVB adapters by MAC` - использовать MAC-адреса DVB для привязки настроенных адаптеров к системному устройству.

:::note
После сохранения общих настроек Astra перезагружается
:::