---
title: How to Filter PIDs
sidebar:
    order: 32
---

### Фильтрация потоков

Фильтрация потоков удаляет определенные пакеты в потоке MPEG-TS на основе их PID. Кроме того, процесс модифицирует соответствующие таблицы программной информации, такие как Таблица ассоциации программ (PAT) и Таблица карт программ (PMT), чтобы отразить удаление определенных пакетов.

## Анализ канала

Чтобы определить доступные элементарные потоки и их PIDs, необходимо проанализировать канал. Это можно сделать, запустив встроенный анализатор MPEG-TS из меню канала или непосредственно из настроек канала.

![Анализ оригинального потока](https://cdn.cesbo.com/help/astra/processing/utilities/filter/analyze-original.png)

На предоставленной схеме можно увидеть следующие элементарные потоки:

1. Видео - PID: `1331`
2. Субтитры - PID: `1335`, Язык: `bul` (болгарский)
3. Аудио - PID: `1332`, Язык: `bul` (болгарский)
4. Аудио - PID: `1336`, Язык: `eng` (английский)

Каждый элементарный поток представлен уникальным идентификатором пакета (PID), который можно использовать для фильтрации потоков в Astra.

## Фильтрация входа

Для выполнения фильтрации потока мы удалим поток с PID 1336. Эта операция может быть проведена путем добавления опции `filter=1336` к входному адресу.

![Опция входа](https://cdn.cesbo.com/help/astra/processing/utilities/filter/input-options.png)

## Обратная фильтрация входа

Чтобы выполнить обратную фильтрацию и удалить все потоки, кроме указанных, можно использовать символ тильда (`~`) вместе с опцией фильтрации. Например, чтобы оставить только видеопоток и английский аудиопоток (PIDs 1331 и 1336), вы должны добавить опцию `filter~=1331,1336` к входному адресу. Это удалит все остальные потоки, оставив только определенные.

Чтобы проверить результаты применённой фильтрации потоков, нажмите "Применить" для сохранения изменений. Затем снова запустите встроенный анализатор MPEG-TS. Это позволит вам удостовериться, что ненужные потоки были успешно отфильтрованы.

![Анализ отфильтрованного потока](https://cdn.cesbo.com/help/astra/processing/utilities/filter/analyze-filtered.png)

## Фильтрация для всех входов

Для фильтрации потоков по всем входам можно использовать вкладку `Remap` в настройках канала. Этот метод подходит при использовании функции сопоставления.

![Опции сопоставления](https://cdn.cesbo.com/help/astra/processing/utilities/filter/remap-options.png)

В поле `Map PIDs` установлено значение `video=101, audio.eng=102`, которое изменяет PIDs видеопотока и английского аудиопотока на 101 и 102 соответственно по всем входам.

Затем в поле `Filter PID` указаны `101, 102`. Это означает, что только потоки с этими PIDs будут сохранены на выходе, в то время как все остальные элементарные потоки будут отфильтрованы.

Подробнее читайте здесь: [ReMap PIDs](/en/astra/streams/remap/)