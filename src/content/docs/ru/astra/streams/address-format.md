---
title: Media Address Format
sidebar:
    order: 30
---

В Astra источник или пункт назначения медиа описывается с использованием медиа-адреса, который напоминает типичный URL. Этот формат облегчает пользователям понимание и работу с различными компонентами, задействованными в управлении медиа-потоками.

## Понимание формата медиадреса

Формат медиадреса состоит из трех основных компонентов: типа, адреса и опций. Эта структура выглядит следующим образом:

```
type://address#options
```

- `type`: представляет протокол или метод, используемый для получения или передачи медиа-потоков
- `address`: это строка, специфичная для определенного типа, которая указывает источник или пункт назначения медиа-потока. Она может варьироваться в зависимости от используемого протокола
- `options`: специфические для протокола и общие настройки, которые влияют на поведение медиа-потока. Опции разделяются символом '&'

Давайте более подробно рассмотрим каждый из этих компонентов и их соответствующие роли в формате адреса.

## Типы получения медиа

- `dvb`: источник медиа, получаемый через DVB-тюнер или виртуальный адаптер. [Введение в настройку DVB адаптера](/en/astra/adapters/)
- `udp`: [UDP мультикаст или уникаст](/en/astra/receiving-udp/)
- `rtp`: [RTP мультикаст или уникаст](/en/astra/receiving-udp/)
- `http`: Протоколы на базе HTTP: [HTTP MPEG-TS](/en/astra/receiving-http/http/) или [HLS](/en/astra/receiving-http/hls/)
- `srt`: [Протокол SRT](/en/astra/receiving/srt/)
- `rtsp`: [Протокол RTSP](/en/astra/receiving/rtsp/), обычно используется для получения потоков от IP-камер
- `file`: файл MPEG-TS на сервере

## Типы передачи медиа

- `udp`: [UDP мультикаст или уникаст](/en/astra/delivery-udp/)
- `rtp`: RTP мультикаст или уникаст
- `srt`: протокол SRT
- `http`: Протоколы на базе HTTP, по умолчанию HTTP MPEG-TS, или HLS, если медиадрес заканчивается на расширение `.m3u8`
- `resi`: [Модулятор DVB-C от DigitalDevices](/en/astra/delivery-broadcast/resi-dvb-c-modulator/)
- `tbs`: [Модулятор DVB-C от TBS](/en/astra/delivery-broadcast/tbs-dvb-c-modulator/)
- `it950x`: [Модулятор DVB-T от HiDes](/en/astra/delivery-broadcast/hides-dvb-t-modulator/)
- `file`: сохранить поток в файл MPEG-TS или директорию на сервере
- `np`: (NetworkPush) протокол на основе HTTP, используемый для отправки потоков из Astra на удаленный сервер

## Адреса, специфичные для типа

В формате медиадреса компонент адреса, специфичный для типа, определяет источник или пункт назначения медиа-потока в зависимости от выбранного протокола. Чтобы узнать больше о форматах адресов для каждого типа медиа, пожалуйста, обратитесь к ссылкам в статье выше.

## Введение в общие параметры ввода

Общие параметры ввода играют критическую роль в тонкой настройке получения и обработки медиа-потоков. Эти параметры позволяют изменять различные параметры, которые влияют на поведение медиа-потока, такие как фильтрация, анализ и модификация.

Наиболее распространенные параметры:

- `pnr=PNR`: номер программы/SID (Service ID) извлекает канал с указанным номером из потока. Подробнее читайте в [Мультиплексирование MPEG-TS](/en/astra/streams/demux/)
- `set_pnr=PNR`: для изменения PNR. Значение должно быть в диапазоне от 1 до 65535
- `filter=N,...`: фильтрация потока, используется для удаления указанного PID. Идентификаторы разделяются запятыми. Подробнее читайте в [Фильтрация PID потока](/en/astra/streams/filter/)
- `filter~=N,...`: фильтрация потока, используется для удаления всех данных, кроме указанных PID и сервисных таблиц. Идентификаторы разделяются запятыми
- `order`: сортировка PID в таблице PMT. Часто используется с параметром lang для выбора приоритетного аудиотрека. Подробнее читайте в [Перестановка аудиопотоков](/en/astra/streams/order/)
- `lang`: установить код языка для аудиотрека. Пример: `lang.1241=eng`, где: `1241` - pid, `eng` - код языка

Другие параметры:

- `set_tsid=TSID`: для изменения TSID (Transport Stream ID)
- `biss=1122330044556600`: использовать BISS ключ для расшифровки потока. Подробнее: [Расшифровка потоков с BISS CAS](/en/astra/streams/decrypt-biss/)
- `cam`: использовать DVB-CI для расшифровки потока
- `cam=CAM-ID`: использовать CAM-клиент для расшифровки потока
- `ecm_pid=PID`: определить ECM PID для CAM-клиента (не рекомендуется)
- `cas`: пропустить сервисные данные о системах условного доступа. Используется для передачи зашифрованного потока
- `map.SRC=DST`: изменить PID на указанные значения. SRC - оригинальный идентификатор или тип данных. Возможные типы: pmt, video, audio, ait, код языка. DST - требуемый идентификатор. Значение может быть в диапазоне от 32 до 8190. Подробнее читайте в [Переназначение PID потока](/en/astra/streams/remap/)
- `no_sdt`: удалить информацию о канале: имя канала, имя оператора (SDT Service Description Table)
- `pass_sdt`: передача SDT без обработки. По умолчанию, если pnr установлен, Astra передает информацию только о выбранном потоке
- `no_eit`: удалить информацию о событиях EPG (EIT - Event Information Table)
- `pass_eit`: передача EIT без обработки. По умолчанию, если pnr установлен, Astra передает информацию только о выбранном потоке
- `no_analyze`: отключает проверку изменений в потоке
- `cc_limit=N`: установить предел ошибок CC. Если количество ошибок CC превышает установленный предел, Astra переключится на резервный источник (если доступен). По умолчанию предел не установлен
- `bitrate_limit=RATE`: установить минимальную битрейт для анализатора в Кбит/с. Источник будет считаться неработающим, если битрейт потока меньше заданного значения. По умолчанию: `16 Кбит/с` для потоков без видео данных и `128 Кбит/с` для потоков с видео данными
- `pass_data`: сохранить пакеты с личными данными (data-pid). Подробнее читайте в [Мультиплексирование MPEG-TS](/en/astra/streams/demux/)