---
title: MPTS Настройки
date: 2023-03-23
sidebar:
    order: 1
---

MPTS (Multi Program Transport Stream) - поток, содержащий несколько сервисов (программ). Часто используется для передачи каналов на модуляторы ip-qam/ip-asi.

Откройте главную страницу (Dashboard) программы Astra и найдите пункт `New Stream`, в правом верхнем углу, чтобы открыть новое окно. Найти `Multi Program Stream` и включите чекбокс. После этого у вас появятся дополнительные поля.

## Общие сведения[](https://help.cesbo.com/astra/delivery/broadcasting/mpts-settings#general)

Окно General позволяет настроить основные параметры DVB-T модулятора, включая его частотный диапазон, схему модуляции и уровень выходного сигнала.

![Общие параметры](https://cdn.cesbo.com/help/astra/delivery/broadcasting/mpts/general.png)

Определения элементов в блоке:

- `Enable` - этот чекбокс позволяет включить или выключить соединение с модулятором. Если флажок включен, интерфейс устанавливает соединение с модулятором
- `Name` - этот параметр позволяет присвоить модулятору произвольное имя. Выбранное имя используется для идентификации модулятора в интерфейсе Astra и может состоять из любой комбинации букв, цифр и специальных символов
- `ID` - Это поле является необязательным. Идентификатор генерируется автоматически при сохранении mpts
- `Country` -этот параметр задает страну, в которой будет использоваться модулятор. Выбранная страна определяет частотный план канала, который будет использоваться модулятором в спецификации [ISO 3166-1 альфа-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3)
- `UTC Offset` - этот параметр задает смещение времени относительно UTC в диапазоне от -720 минут до +780 минут (используется для формирования таблиц TOT/TDT для автоматической установки времени в телевизоре и корректной работы EPG)
- `Network ID` - этот параметр является уникальным идентификатором DVB-сети, к которой принадлежит модулятор. По умолчанию: 1
- `Network Name` - этот параметр представляет собой произвольное имя DVB-сети, к которой принадлежит модулятор
- `Provider Name` - Используется в таблице NIT (Network Information Table), в которой описывается информация о том, кому принадлежит частота, провайдер и название сети. Используется для быстрой идентификации провайдера, которому принадлежит поток. Например, эти данные мы можем увидеть при сканировании частоты на спутнике
- `Codepage` - этот параметр используется для указания кодировки символов, используемых в таблицах PSI/SI. Например, для английских пользователей это латиница (ISO 6937)
- `TSID` - этот параметр (Transport Stream ID) является уникальным идентификатором транспортного потока DVB. Он используется для различения транспортных потоков, передаваемых разными источниками или с разным содержанием. По умолчанию: 1
- `ONID` - этот параметр относится к идентификатору исходной сети, который используется для идентификации сети, к которой принадлежит канал. Это уникальный идентификатор, присваиваемый сети, который используется совместно с TSID для формирования полного идентификатора транспортного потока. Значение ONID должно быть одинаковым для всех транспортных потоков в данной сети. По умолчанию: 1

## Список входящих стримов[](https://help.cesbo.com/astra/delivery/broadcasting/mpts-settings#input-list)

Список Input List в окне General используется для определения входных потоков, которые будут использоваться для модуляции выхода. Он позволяет задать транспортный поток, номер программы и другие параметры для каждого входного потока. Список входов может быть отредактирован, добавлен или удален по мере необходимости

![Список входящих стримов](https://cdn.cesbo.com/help/astra/delivery/broadcasting/mpts/input.png)

- `New Input` - эта кнопка позволяет добавить новый вход в список входов. При нажатии на эту кнопку открывается новое окно, в котором можно настроить параметры нового входа, такие как его имя, тип и параметры модуляции
- `Arrows` - Эта кнопка расположена справа от каждого входа в списке входов. Нажатие на нее позволяет выбрать позицию данного входа в общем списке
- `Gear` - эта кнопка расположена справа от каждого входа в списке входов и позволяет настроить параметры данного входа. При нажатии на кнопку "Передача" открывается диалоговое окно, в котором можно изменить параметры входа, такие как его тип, битрейт и параметры модуляции

Потоки, входящие в mpts, не должны иметь повторяющихся PID. Желательно также назначить номера PNR для каждого входа с помощью функции `set_pnr=` опция. Например:

```
udp://225.1.1.27:1234#set_pnr=11
udp://225.1.1.28:1234#set_pnr=12
udp://225.1.1.29:1234#set_pnr=13
```

## Список выходов[](https://help.cesbo.com/astra/delivery/broadcasting/mpts-settings#output-list)

В разделе Output List окна General отображается список выходов, которые могут быть настроены для выбранного модулятора. В этом разделе можно добавлять или удалять выходы и настраивать их параметры. Каждый выход в списке представлен строкой, в которой отображаются его параметры и состояние. Статус каждого выхода может быть включен или выключен с помощью соответствующего флажка в первом столбце строки выхода

![Список выходов](https://cdn.cesbo.com/help/astra/delivery/broadcasting/mpts/output.png)

- `New Output` - эта кнопка открывает новое окно, в котором можно настроить параметры нового выхода. Номер модулятора для нового выхода может быть назначен в зависимости от количества модуляторов в адаптере, начиная с 0

Аналогично режиму SPTS.

## SDT[](https://help.cesbo.com/astra/delivery/broadcasting/mpts-settings#sdt)

Вкладка SDT представляет собой окно, позволяющее настроить таблицу описания сервисов, которая отвечает за предоставление информации о сервисах, доступных в транспортном потоке. Эта информация может включать имя сервиса, имя провайдера, тип сервиса и другие сведения. Другими словами, вкладка SDT позволяет определить и управлять сервисами, которые будут доступны зрителям.

![Варианты обслуживания](https://cdn.cesbo.com/help/astra/delivery/broadcasting/mpts/sdt.png)

- `Service type` - этот параметр задает тип услуги, которую пользователь хочет настроить, например, цифровое телевидение, цифровое радио или услуги передачи данных
- `Service name` - этот параметр обозначает название услуги, которая передается по эфиру. Название услуги обычно отображается на экране телевизора или другого принимающего устройства пользователя
- `PNR` - этот параметр описывает номер программы выбранной услуги
- `Scrambled channel` - этот параметр представляет собой чекбокс, указывающий, является ли выбранный канал скремблированным или нет. Если флажок установлен, то он добавляет в описание канала информацию о том, что канал зашифрован. Современные dvb-приемники, ориентируясь на эту информацию, могут выводить на экран телевизора данные о том, что канал зашифрован
- `LCN` - этот параметр расшифровывается как Logical Channel Number. Это уникальный идентификатор, присваиваемый каждому каналу или услуге в системе цифрового вещания

## NIT[](https://help.cesbo.com/astra/delivery/broadcasting/mpts-settings#nit)

Окно "NIT" позволяет определить таблицу сетевой информации (NIT) для пользовательского модулятора. NIT содержит информацию о доступных пользователю сетях, такую как идентификатор сети, имя сети, частота

![Параметры сети](https://cdn.cesbo.com/help/astra/delivery/broadcasting/mpts/nit.png)

- `LCN Version` - этот параметр указывает номер версии таблицы Logical Channel Number (LCN), используемой сервисом. Таблица LCN содержит информацию о порядке предоставления услуг в конкретном регионе или стране
- `Delivery Type` - этот параметр определяет способ доставки сигнала для выбранной услуги
- `Frequency` - этот параметр определяет частоту выходного сигнала. Она задается в МГц (мегагерцах) и может иметь значения от 45 до 1002 МГц, в зависимости от типа поставки, выбранного для модулятора
- `Symbolrate` - символьная скорость. Задается в Кбод
- `FEC` - если ваши потоки содержат FEC, выберите необходимое значение. В противном случае выберите значение по умолчанию
- `Modulation` - этот параметр позволяет выбрать тип модуляции, который будет использоваться для выбранной услуги

## Сетевой поиск[](https://help.cesbo.com/astra/delivery/broadcasting/mpts-settings#network-search)

Ориентируясь на эти параметры, современные dvb-тюнеры и телевизоры могут выполнять Быстрый поиск. Чтобы не выполнять на приставках и телевизорах полный поиск каналов (который обычно занимает много времени), настройте эту простую и нужную услугу:

1. Создайте все необходимые mpts-потоки и заполните в них параметры Delivery Type. Например:

- ```
     mpts_1 with frequency 378
    ```
    
- ```
     mpts_2 with frequency 386
    ```
    
- ```
     mpts_3 with frequency 394
    ```
    

2. Перейдите в настройки mpts\_1 и откройте вкладку NIT. Установите чекбоксы на все связанные мультиплексы
3. Выполнено!

> Как это работает При настройке каналов телевизор или приставка находит частоту 378, с `mpts_1`, получил `NIT` таблицы для всех связанных мультиплексов и быстро просканировать их.

## Вкладка "Дополнительно[](https://help.cesbo.com/astra/delivery/broadcasting/mpts-settings#advanced-tab)

Вкладка Advanced содержит специальные, расширенные опции для настройки MPTS

![Дополнительные опции](https://cdn.cesbo.com/help/astra/delivery/broadcasting/mpts/advanced.png)

- `Disable PID's auto-remap` - Отключение автоматического переопределения номеров PID в MPTS
- `SI packets interval` - это интервал отправки потоковых данных. Значение по умолчанию составляет 500 миллисекунд. Изменять это значение не требуется
- `Pass NIT/SDT/EIT/TDT` - отключает обработку Astra этих таблиц. Например, таблицы подготовлены внешним генератором
- `PAT/NIT/CAT/SDT version` - номер версии таблицы. Этот номер увеличивается при каждом обновлении настроек mpts. Когда dvb-приемник обнаруживает изменение номера таблицы, он немедленно перечитывает таблицу снова. Нет необходимости изменять значения вручную
