---
title: SRT
sidebar:
    order: 13
---

Протокол Secure Reliable Transport (SRT) — это протокол потоковой передачи видео с открытым исходным кодом, предназначенный для обеспечения потоковой передачи видео с низкой задержкой и высоким качеством в ненадежных сетях. SRT использует шифрование "от конца до конца" и предоставляет ряд функций, направленных на повышение надежности и безопасности, включая исправление ошибок, управление перегрузками и повторную передачу потерянных пакетов. SRT часто используется в приложениях для потоковой передачи живого видео, таких как спортивные и новостные трансляции, где критически важно поддерживать надежное и качественное соединение.

:::caution
Доступно для версий Astra, выпущенных после 21.12.2021
:::

## Формат адреса

SRT может быть получен в двух режимах:

- `Режим вызывающего абонента (Caller mode)` - Astra отправляет запрос на сервер SRT и получает контент в ответ. Это наиболее популярный вариант.
- `Режим слушателя (Listener mode)` - Astra ожидает, когда сервер SRT установит соединение и получает контент в запросе. Это режим с точка-точкой соединением.

Формат адреса зависит от выбранного режима.

### Режим вызывающего абонента (Caller mode)

```
srt://адрес:порт[#опции]
```

- `адрес` - IPv4 адрес удаленного сервера или имя хоста
- `порт` - удаленный порт

Пример:

- `src://example.com:3001` - отправить запрос на example.com

### Режим слушателя (Listener mode)

В режиме слушателя формат адреса аналогичен адресу UDP, с добавлением символа `@`, чтобы указать имя локального интерфейса.

```
srt://[интерфейс]@:порт[#опции]
```

- `интерфейс` - имя локального интерфейса, на котором осуществляется прослушивание соединения. По умолчанию Astra будет ожидать соединение на всех интерфейсах
- `порт` - локальный порт для принятия входящего соединения
- `опции` - дополнительные параметры для протокола SRT

Примеры:

- `srt://@:3001` - ожидание соединения на любом интерфейсе
- `srt://eth0@:3001` - ожидание соединения на интерфейсе `eth0`

### Опции

- `timeout=N` - перезапускает приемник, если данные не поступили в течение определенного интервала, в секундах. Значение по умолчанию: `5` секунд
- `latency=N` - максимальная допустимая задержка передачи, в миллисекундах. Значение по умолчанию: `120` миллисекунд
- `packetfilter=S` - добавление дополнительных инструкций обработки в начале и/или в конце передачи для реализации исправления ошибок пересылки (FEC). [Подробнее](https://github.com/Haivision/srt/blob/master/docs/features/packet-filtering-and-fec.md#configuring-the-fec-filter){target="_blank"} в официальной документации
- `passphrase=S` – пароль для зашифрованной передачи. Длина пароля должна быть в диапазоне от 10 до 79 символов
- `pbkeylen=N` – длина криптографического ключа в байтах. Возможные значения: 16, 24, 32. Значение по умолчанию: `0`
- `streamid=ID` – идентификатор потока, предоставленный серверу SRT в режиме вызывающего абонента
- `no_tsbpdmode` – отключить режим доставки пакетов на основе отметок времени
- `oheadbw` - ограничивает избыточную пропускную способность, в процентах. Возможные значения в диапазоне: 5 - 100. Значение по умолчанию: `25`

## Веб-интерфейс

Одной из самых больших трудностей при работе с протоколом Secure Reliable Transport (SRT) является навигация по ряду технических требований и настроек, необходимых для процесса установки. К счастью, Astra упрощает этот процесс, предлагая обширный набор опций конфигурации ввода SRT.

Чтобы добавить новый ввод SRT в Astra, пользователи могут перейти на вкладку `Новый поток` или в настройки существующего потока и выбрать опцию `Тип ввода` как SRT.

![SRT Listener](https://cdn.cesbo.com/help/astra/receiving/ip/srt/listener.png)

- `Тип ввода` - этот параметр является первым вариантом на вкладке настроек SRT и используется для выбора типа ввода. Чтобы настроить прием SRT, выберите `SRT` из выпадающего списка. Это включает в себя специальные опции конфигурации SRT и позволяет ввести необходимую информацию для получения потока SRT
- `Режим SRT` - этот параметр определяет, будет ли Astra выступать в роли вызывающего или слушателя при установлении соединения SRT. Чтобы получить поток SRT, выберите `Слушатель` из выпадающего списка. Это указывает Astra ждать входящих соединений от отправителя потока SRT
- `Локальный интерфейс` - этот параметр указывает сетевой интерфейс, который Astra будет использовать для получения потока SRT. Значение по умолчанию - `Любой интерфейс`, что означает, что Astra будет слушать входящие соединения SRT в соответствии с системными правилами маршрутизации. Если вы хотите ограничить Astra конкретным интерфейсом, выберите его из выпадающего списка
- `Порт` - этот необязательный параметр указывает сетевой порт, который Astra будет использовать для получения потока SRT
- `Таймаут` - этот необязательный параметр указывает количество времени (в миллисекундах), которое Astra будет ждать входящих данных из потока SRT перед истечением времени ожидания. Значение по умолчанию - 5000 миллисекунд (5 секунд), но вы можете увеличить или уменьшить это значение при необходимости
- `Задержка` - этот необязательный параметр вводит указанную величину задержки (в миллисекундах) в поток SRT. Значение по умолчанию - 120 мс. Увеличение задержки может улучшить стабильность, но увеличивает задержку, а уменьшение задержки может уменьшить задержку, но сделать соединение менее стабильным
- `Парольная фраза` - этот необязательный параметр устанавливает парольную фразу для безопасной связи через поток SRT. Значение по умолчанию - пустое. Если установлена парольная фраза, и отправитель, и получатель должны использовать одну и ту же для установления соединения
- `Длина криптографического ключа` - этот параметр устанавливает длину криптографического ключа, используемого для защиты потока SRT. Значение по умолчанию - 128 бит, что достаточно для работы приема SRT. Однако вы можете увеличить или уменьшить длину ключа, если необходимо для более сильной или слабой безопасности
- `Режим доставки пакетов на основе отметок времени` - этот параметр включает или отключает режим доставки пакетов на основе отметок времени SRT. При включении (установлен) SRT использует отметки времени, чтобы гарантировать, что пакеты доставляются в правильном порядке, даже если они прибывают не по порядку. Это может улучшить качество потока, но может увеличить задержку. Состояние этого параметра по умолчанию - отключено.