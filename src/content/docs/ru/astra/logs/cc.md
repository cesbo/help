---
title: CC Error
sidebar:
    order: 2
---

Ошибки CC (Счетчик Непрерывности) указывают на нарушение целостности пакетов MPEG-TS. Ошибка может быть вызвана потерей или избытком пакетов MPEG-TS.

## Ошибка CC в логах

Это сообщение выводится как отладочное сообщение в логах Astra и как сообщение об ошибке в логах Анализатора MPEG-TS Astra.

```
Jan 27 09:00:00: INFO: Bitrate: 13259 Kbit/s
Jan 27 09:00:00: ERROR: CC: PID:18=3 PID:20=3 PID:256=24
Jan 27 09:00:01: INFO: Bitrate: 13261 Kbit/s
Jan 27 09:00:01: ERROR: CC: PID:18=5 PID:20=2
```

## Ошибка CC при получении по UDP

UDP не гарантирует доставку данных, поэтому пакеты могут теряться, дублироваться или приходить в неправильном порядке. Существует две основные проблемы: потеря пакетов или избыток пакетов.

### Потеря пакетов

В первую очередь необходимо проверить потери и ошибки на сетевом интерфейсе:

```sh
ip -s link show eth0
```

Вам следует обратить внимание на RX Errors. Некоторые сетевые карты предоставляют более детальную информацию о характере потерь:

```sh
ethtool -S eth1
```

Потери могут происходить не только на сетевых картах вашего сервера. Они также могут происходить на порту сетевого оборудования. Вы можете найти информацию о том, как это посмотреть, в документации производителя сетевого оборудования.
Где eth0 — это имя интерфейса. После строки RX будет строка с числами. Третье число — это ошибки получения UDP.

### Настройка QoS

Настройки Качества обслуживания (QoS) на сетевом оборудовании могут влиять на трафик UDP. Убедитесь, что ваши настройки QoS отдают приоритет UDP-трафику и не ограничивают его полосу пропускания.

### Избыток пакетов

Избыток пакетов выглядит как удвоенный битрейт в анализаторе MPEG-TS Astra. Это можно проверить с помощью `tcpdump`, где пакеты с тем же адресом назначения имеют разные источники:

```
21:38:42.143839 IP 192.168.88.100.33610 > 239.255.1.1.1234: UDP, length 1316
21:38:42.143868 IP 192.168.88.100.24081 > 239.255.1.1.1234: UDP, length 1316
```

Могут быть две причины:

- Если адрес источника тот же, но порты разные (например, 33610 и 24081), то сервер-источник отправляет тот же канал дважды
- Если адреса источников разные, тогда более одного сервера отправляют пакеты в ту же группу

В обоих случаях требуется проверить конфигурацию удаленного сервера. Если это невозможно или как временное решение вы можете отбросить пакеты от второго источника с помощью брандмауэра.

## Ошибка CC при получении по DVB

DVB зависит от качества сигнала, проверьте ошибки на DVB-адаптере: [Ошибки BER и UNC](/en/astra/adapters/errors/)