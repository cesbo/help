---
title: Changelog
description: Release notes and feature updates for recent Astra versions
noindex: true
sidebar:
    order: 100
---

## 250221

[Скачать Astra-250221](https://cdn.cesbo.com/astra/builds/astra-250221)

### SRT

- Библиотека SRT понижена до версии 1.4.3 из-за потери пакетов и ошибок CC
- Вход SRT автоматически перезапускает соединения, когда битрейт падает до нуля

### DVB

- Опция `restart_adapter` для перезапуска DVB-адаптера с анализатором каналов. Когда канал получает поток с ошибками, он отправляет команду для перезапуска адаптера.
- Исправлен сбой при запуске DVB из скриптов Lua
- SAT>IP отправляет опции на сервер SAT>IP для Multistream/PLS

### UDP

- Исправлено "бурение" логов с сообщением "UDP recv buffer overflow"
- Добавлена опция `join` для вывода UDP для отправки запроса Multicast Join (требуется некоторыми сетевыми коммутаторами)
- Добавлена опция `ts_size=204` для MPEG-TS с пакетами размером 204 байта (потоки ISDB-T в Бразилии и Японии)

### MPEG-TS

- Исправлено переназначение для пакетов AIT

### Веб-интерфейс

- Ссылки на m3u-плейлисты с разными источниками (HLS, HTTP MPEG-TS, UDP): Настройки → HTTP Play

## 241024

[Скачать Astra-241024](https://cdn.cesbo.com/astra/builds/astra-241024)

### SRT

- Библиотека SRT обновлена до версии 1.5.3
- Сессии для вывода SRT в режиме слушателя
- Рефакторинг вывода SRT, лучшая стабильность, исправлена утечка памяти
- Опции `streamid` для входа SRT

### TBS DVB-T модулятор

- Поддержка модуляционной карты TBS6104 DVB-T Quad

### HLS

- HLS-выход передает метки SCTE-35
- Вход HLS корректирует счетчик непрерывности, если он начинается с 0 на каждом сегменте

### MPEG-TS

- Поддержка текста, закодированного с помощью UTF-16, ISO/IEC 10646 BMP в таблицах EIT и SDT
- Останавливает генерацию PSI, если на входе нет данных

### Веб-интерфейс

- Иконки для виртуальных адаптеров DVB
- Исправлен статус и битрейт для адаптера SAT>IP в веб-интерфейсе
- Исправлена перезагрузка веб-сайта при повторном подключении
- Исправлено удаление серверов в веб-интерфейсе
- Кнопка выхода
- Вкладки для Настройки → Общие

### Внутренние изменения

- Продолжение переноса кода из скриптов Lua в Astra Core: методы API для статуса потока, отчета по потоку, плейлистов, обработки JSON и т.д.

## 230719

[Скачать Astra-230719](https://cdn.cesbo.com/astra/builds/astra-230719)

В этом журнале изменений представлено краткое сравнение с последним стабильным релизом 220504

### SRT

- Библиотека SRT обновлена до версии 1.5.1
- Опция `statsout=FILE` для записи статистики получения/передачи SRT в файл CSV. Этот файл можно обработать с помощью https://github.com/mbakholdina/srt-stats-plotting.
- Поддержка стандартного формата адреса, такого как `srt://example.com?passphrase=12345`.
Если ваш адрес содержит символ `#` в опции streamid, его следует заменить на `%23`. Например: `srt://example.com?streamid=%23!::r=LaminorTV,m=request`
- Лучшая стабильность при получении
- Опция `oheadbw` - восстановление избыточной полосы пропускания выше входного уровня. По умолчанию: `25`
- Опции `sndbuf` и `rcvbuf` для настройки размера буфера передачи и приема

### Виртуальные адаптеры DVB

Виртуальные адаптеры - это опция в настройках адаптера для удобной настройки потоков:
- Потоки MPTS: вы можете определить адрес потока MPTS и сканировать его, чтобы добавить все каналы отдельно. [Читать далее](/en/astra/receiving-udp/mpts-via-udp/)
- CI адаптер: вы можете настроить дескремблирование каналов с внешними CI адаптерами, такими как DigitalDevices Octopus Twin CI или TBS6900. [Читать далее](/en/astra/adapters/external-ci/)
- Адаптер SAT>IP: это замена флажка SAT>IP в предыдущих версиях. [Читать далее](/en/astra/receiving/satip-client/)
- SAT>IP: увеличен размер буфера приема
- SAT>IP: больше логов об ошибках HTTP соединения

### DVB тюнеры и DVB Input

- Для адаптеров с поддержкой нескольких стандартов доступна опция для ручного выбора фронтенда - `fe_device`. Это можно найти в веб-интерфейсе: Настройки адаптера → Дополнительно → FE Устройство
- Сканирование DVB адаптеров перед запуском Astra

### Модулятор DigitalDevices RESI

- Исправлены опции `gain` и `attenuator` для последних драйверов
- Размер буфера по умолчанию увеличен до 64 Мб
- Сброс RESI перед запуском

### HTTP/HLS

Вход:

- Вход HLS поддерживает M3U8 с URL без схемы. Например: `//example.com/media/001.ts`
- Синхронизация битрейта по временным меткам DTS/PTS вместо PCR. (многие HLS потоки имеют поврежденные значения PCR)

Выход:

- Переписаны алгоритмы авторизации для лучшей производительности (перемещены из скриптов Lua в C-core)
- Авторизация HTTP Backend поддерживает перенаправления
- Проверка списка IP в авторизации HTTP перед другими методами
- Выход HLS отправляет пустой TS файл, если файл не найден (ранее была ошибка 404, но некоторые плееры на основе ffplay отправляют много запросов, пытаясь перезагрузить его)
- Настройка Настройки → HLS → Таймаут сессии для настройки времени, когда сессия должна быть закрыта в случае неактивности

### UDP

- Игнорировать некорректные TS файлы на входе (в предыдущих версиях прием перезапускался)
- Опция `src=IP` для указания адреса источника UDP multicast для IGMPv3. Пример: `udp://eth1@239.255.1.1:1234#src=192.168.88.100`

### MPTS

- Изменение типа EIT с включенной опцией `remux_eit`. Если tsid EIT не равен опции `tsid`, определенной в настройках MPTS, то тип EIT будет изменен с `actual` на `other`

### Обработка

- Опция `set_pcr_pid` для изменения PID PCR, если он отделен от видео
- T2MI исправляет проблему с ошибками CC на некоторых потоках

### Мониторинг

- Опция `interval=SEC` для адреса InfluxDB для определения интервалов отправки. По умолчанию 60 секунд. Пример: `https://example.com:8086#interval=5`
- `app_mem_kb` в [Process status API](/en/astra/api/process/). Использование памяти процессом в килобайтах
- `video_count` и `audio_count` в [Stream status API](/en/astra/api/stream/)

### Master-Slave

- Опция `delay` для режима слейва для запуска процесса с задержкой. По умолчанию 3 секунды. Пример: `astra -c slave.conf -p 8000 --slave "http://master:8000#delay=10"`

### Веб-интерфейс

- Значок
- Веб-интерфейс с `als.cesbo.com`, интегрированный в исполняемый файл Astra (`als.cesbo.com` больше не используется)
- Опция для установки пользовательского пути к веб-интерфейсу. Это можно найти в Настройки → Общие → Пользовательский путь. Например, с путем `secret`, интерфейс будет доступен по адресу `http://example.com:8000/secret/`
- Опция изменения порта для веб-интерфейса. Это можно найти в Настройки → Общие → Пользовательский порт. Эта опция настраивает значение порта, определенное в опции `-p`. Также поддерживается локальный адрес интерфейса, такой как `127.0.0.1:8000` - веб будет доступен только на localhost
- Опция Настройки → HTTP Play → Путь к снимкам экрана TV - привязка снимков канала к карточкам на панели
- Описание для канала
- Модальные диалоги для настройки потока и адаптера

### Внутренние изменения

- Перемещено много кода из скриптов Lua в Astra Core для лучшей производительности
- Astra проверяет порт для API и веб-интерфейса, чтобы предотвратить запуск одного и того же процесса дважды
- Обновление OpenSSL до v1.1.1t
- Интеграция LibUV v1.44.2 (подготовка к переходу от внутренней обработки событий на libuv)

## Архивные версии

- [241024](https://cdn.cesbo.com/astra/builds/astra-241024)
- [230719](https://cdn.cesbo.com/astra/builds/astra-230719)
- [230307](https://cdn.cesbo.com/astra/builds/astra-230307)
- [220504](https://cdn.cesbo.com/astra/builds/astra-220504)