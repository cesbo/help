---
title: Cable Television with Astra for Hospitality Industry
date: 2023-05-04
sidebar:
    order: 7
---

![Hospitality industry using TV](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/og-image.png)

Гостиничное телевидение, предлагая отличное решение с высококачественными трансляциями и выбором лучших каналов, является важной частью гостиничного сервиса.

Количество и качество каналов формируют положительное впечатление у гостей. Однако здесь возникает сложность.
Отелям необходимо либо модернизировать существующую сеть телевидения, либо спроектировать новую, находя баланс между затратами на оборудование и необходимыми услугами.
Мы предлагаем рассмотреть программное обеспечение Astra, которое обладает мощными и гибкими функциями при использовании с модулятором DVB-C. В этой статье мы рассмотрим плюсы и минусы такого решения и пройдем через шаги настройки.

## Преимущества кабельного телевидения

- построено на стандартном телевизионном кабеле, можно использовать существующую сеть отеля
- большое количество каналов без ограничений по качеству
- любой телевизор способен принимать кабельное телевидение. Не требуется дополнительное оборудование в комнатах для гостей
- надежность сети
- контроль трансляции, такой как мониторинг, конфигурирование, переключение каналов и т.д. Все это возможно с Astra Web Interface
- и последнее, но не менее важное, вы можете просто расширять количество видеоресурсов и каналов. Astra позволяет получать входной сигнал не только с DVB-карт, но и из сети (HTTP, HLS, UDP, RTSP), а также создавать ваши ТВ-каналы из ваших видеозаписей.

## Недостатки

- стоимость головной станции, включая модулятор DVB-C и DVB-карты для приема
- некоторые старые телевизоры могут не поддерживать стандарт DVB-C для кабельного телевидения

## Аппаратное обеспечение

![Hospitality TV diagram](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/ctv.svg)

Эта простая схема используется для иллюстрации. У нас есть спутниковый сигнал, сервер ПК на базе Linux с DVB-S/S2 картами и карты модулятора RESI DVB-C FSM.

### DVB-S/S2 Приемник

Для приема спутниковых каналов вы можете использовать любой DVB-S/S2 адаптер с драйверами для Linux.

![DigitalDevices Max SX8](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/maxsx82018.jpg)

Наиболее популярные DVB приемники:

- [Digital Devices MAX SX8 Pro](https://www.digital-devices.eu/shop/en/tv-cards/all-tv-cards/340/digital-devices-max-sx8-pro-4/8-8-tuner-tv-card-dvb-s2/dvb-s2x-full-spectrum)
- [Digital Devices Max M4](https://www.digital-devices.eu/shop/en/tv-cards/all-tv-cards/341/digital-devices-max-m4-4x-multi-band-tuner-tv-card?c=167) - универсален для спутникового, кабельного или наземного приема
- [TBS6909-X](https://www.tbsdtv.com/products/tbs6909-x-dvb-s-s2-s2x-octa-tuner-pcie-card.html)

### DVB-C Модулятор

В этой статье мы рассматриваем простые шаги по настройке Astra для модуляции DVB-C, используя [RESI DVB-C FSM 8](https://www.digital-devices.eu/shop/en/business-tv/qam-sdr-modulator/). Также вы можете использовать [TBS6004](https://www.tbsdtv.com/products/tbs6004-dvb-c-4-qam-pcie-card.html) модулятор.

![DigitalDevices RESI DVB-C Modulator](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/resi-fsm.png)

Краткое описание:

- RESI DVB-C FSM 8 имеет 8 транспондеров в соответствии со спецификацией DVB-C
- Диапазон частот: 114 - 858 МГц
- Скорости символов: 1.0 - 7.1 MSym/s
- QAM: 16, 32, 64, 128, 256
- Отношение сигнал/шум: 42dB
- Выход с 8 активными транспондерами: 101 dBµV
- FSM8 может генерировать до 7.1 MSym/s и QAM256. Максимальная передаваемая скорость передачи данных составляет около 52Mbps

:::note
Мы советуем отправлять не более 40-42Mbps на один транспондер, особенно если входящий поток поступает со спутника. Спутниковые каналы обычно имеют плавающий битрейт, который, например, на HD канале может скакать с 6Mbps до 11Mbps.
:::

На основе этого мы можем рассчитать, сколько каналов можно разместить на одном транспондере и на всех доступных транспондерах:

- 4 x HD канала ~7Mbps = 28Mbps
- 4 x SD канала ~3Mbps = 12Mbps

Приблизительно мы можем получить 8 каналов на одном транспондере, умножив на 8 транспондеров, мы можем получить до 64 каналов в вашей сети DVB-C. Эта комбинация каналов может различаться в зависимости от ваших потребностей. Если нужно больше каналов, вы можете получить RESI DVB-C FSM 16 или 24.

## Требования

### Аппаратное обеспечение

- Серверный ПК, по крайней мере, с четырехъядерным процессором Intel® или AMD® 2.8GHz, 8 Гб ОЗУ, с 2 или более слотами PCIe, в зависимости от количества карт PCIe
- Модуляторы DVB-C (RESI или TBS)
- DVB-S/S2 или DVB-T/T2 ТВ-карты (как пример)

### Программное обеспечение

- Операционная система на базе Linux. Мы рекомендуем Ubuntu 22.04 LTS
- Cesbo Astra
- Драйверы DVB-карт
- Интернет-браузер на вашем ПК. Chrome, Safari или Firefox

## Настройка Astra

### Установка Astra

Прежде всего, нам нужно подготовить сервер и установить Linux и Astra. Информацию об установке Ubuntu можно найти на [официальном сайте](https://ubuntu.com/tutorials/install-ubuntu-server)

Установка Astra проста – просто скопируйте один бинарный файл на сервер. Детальную информацию можно найти здесь: [Установка Astra](/en/astra/getting-started/install)

Довольно часто пользователи забывают настроить свои адаптеры перед следующими шагами. Убедитесь, что у вас установлены драйверы для DVB-карт на сервере.

- [Установка драйверов DigitalDevices](/en/astra/adapters/dd-driver/)
- [Установка драйверов TBS](/en/astra/adapters/tbs-driver/)
- Для других адаптеров информацию можно найти на сайте производителя

### Прием каналов с Astra

Теперь пришло время настроить все наши адаптеры и найти каналы, которые мы хотим модулировать по DVB-C.

Для настройки приема каналов со спутника мы рекомендуем обратить внимание на эти статьи:

- [Введение в настройку DVB-адаптера](/en/astra/adapters/)
- [Опции DVB-S/S2 приемника](/en/astra/adapters/s/)
- [Сканировать DVB-адаптер](/en/astra/adapters/scan/)

Ниже представлен скриншот примера настроек адаптера:

![DVB-S2 Пример](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/dvb-s-settings.png)

### Сканирование и выбор необходимых каналов

После того как мы разобрались, как настроить наши адаптеры, мы можем произвести сканирование необходимого транспондера (частоты) и добавить каналы в Astra, выбрав все программы, которые вы хотите добавить.

![Сканирование настроенного адаптера](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/scan.png)

![Добавленные каналы на дашборде](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/dashboard.png)

### Создание нового потока с MPTS

MPTS (Multi Program Transport Stream) — это поток, содержащий несколько служб (программ). Он используется для передачи каналов к ip-qam/ip-asi модуляторам и мультиплексорам. Ниже приведены скриншоты самых общих страниц конфигурации

![Общие настройки MPTS](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/mpts-general.png)

![Список входных данных MPTS](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/mpts-input.png)

![Настройки SDT MPTS](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/mpts-sdt.png)

В настройках SDT должна быть предоставлена вся информация о канале:

- `Service Name` - название программы
- `PNR` - номер программы должен совпадать с входным списком
- `LCN` - логический номер определяет, какой номер канала будет на телевизоре

![Настройки NIT MPTS](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/mpts-nit.png)

В настройках NIT предоставляется информация для DVB-C транспондера.

### Настройка модулятора

На данном этапе мы уже нашли и добавили все необходимые каналы в Astra, создали новый поток и настроили MPTS, который должен быть отправлен в модулятор. Для настройки выходного сигнала на модулятор RESI DVB-C нам необходимо знать количество адаптеров RESI в системе.

В консоли сервера найдите номер карты и модуляторов с помощью команды:

```sh
find "/dev/dvb" -name "mod*"
```

В выводе команды - мы получим номер адаптера и его модуляторы:

```
/dev/dvb/adapter0/mod0
```

- `adapter0` - номер адаптера в системе
- `mod0` - номер устройства (транспондера) на этом адаптере. Диапазон от 0 до 7 будет для модулятора FSM8

Теперь очередь на настройку выходного сигнала на модулятор RESI DVB-C в настройках MPTS

![Список выходных данных MPTS](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/mpts-output.png)

В результате мы должны получить полностью настроенный поток, как показано на скриншоте:

![MPTS на дашборде](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/mpts-dashboard.png)

## Мониторинг и управление

С помощью Astra вы можете анализировать качество и стабильность транспортных потоков. Экспортируйте статистику и события во внешние системы, такие как Zabbix или Grafana.

Также в любой момент вы можете открыть Astra Web Interface, чтобы просто проверить дашборд. Здесь вы увидите уже настроенные адаптеры, созданные потоки и некоторые полезные опции, такие как сила/качество сигнала, битрейт на каналах и так далее.

![Astra Web Interface](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/astra-dashboard.png)

![Zabbix](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/zabbix.png)

![Grafana](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/grafana.png)

## Проверка выходного DVB-C сигнала

Следуя этим простым шагам, мы настроили наш поток. Теперь наши каналы конвертированы и модулированы с помощью модулятора RESI DVB-C FSM.

Лучший способ проверить выходной сигнал - использовать анализатор. Существует много различных моделей от разных производителей. Например, Telestar:

![Telestar Анализатор](https://cdn.cesbo.com/help/astra/getting-started/ctv-with-astra/telestar.jpg)

Также мы можем подключить коаксиальный кабель от RESI к телевизору и в настройках телевизора выполнить новое сканирование каналов DVB-C, либо полное сканирование, либо сетевое сканирование (или вручную задать параметры сканирования). Настройки поиска каналов полностью зависят от производителя телевизора, но в целом они очень похожи.

## Устранение неполадок DVB приема

В случае, если у вас возникли проблемы во время настройки, мы предоставляем список статей о том, как выявлять проблемы и устранять возможные причины: [Устранение неполадок DVB приема](/en/astra/adapters/troubleshooting/)

Мы заботимся о каждом нашем клиенте и вашем наилучшем опыте работы с Cesbo Astra, поэтому предлагаем дополнительные каналы поддержки, такие как онлайн помощь и поддержка по электронной почте.